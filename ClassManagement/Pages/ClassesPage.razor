@page "/Classes"
@inject ClassesService classesService 

<h2 style="text-align:center;">My Classes</h2>
@if (MyClasses.Count != 0)
{
    <ul>
        <Virtualize Items="MyClasses" Context="Class">
            <li>
                <div style="display: flex; justify-content: space-between">
                    <div style="display: flex;">
                        <div>
                            <img class="class-pic" src="classroom.png" />
                        </div>
                        <div>
                            <h4>Code: @Class.Code</h4>
                            <strong>@Class.Name</strong>
                        </div>
                    </div>
                    <div>
                        <img @onclick="@(() => { Class.DeleteHeight = (Class.DeleteHeight == "0") ? "30px" : "0"; })" src="@Class.ImgSource" style="width: 30px; height: 30px; cursor: pointer;" />
                    </div>
                </div>
                <div style="background-color: red; text-align: center; height: @Class.DeleteHeight; transition: height 0.5s; cursor: pointer;">
                    <img style="width: 30px; height: 30px;" src="trash.png" />
                </div>
                <hr />
            </li>
        </Virtualize>
    </ul>
}
else
{
    <h3>You don't have any class yet, add your first class to get start</h3>
}



@code {
    private List<Class> MyClasses;

    protected override async Task OnInitializedAsync()
    {
        MyClasses = classesService.GetAllClasses();
    }
}
